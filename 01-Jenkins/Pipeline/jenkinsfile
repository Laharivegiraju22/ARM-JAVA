node {
 stage('Git-Checkout') {
  
   git 'https://github.com/Laharivegiraju22/multi-petclinic.git'
  }
    
 def project_path="01-Jenkins/Code/petclinic"
 
 dir(project_path) {
    
  stage('Maven-Clean') {
  
   sh label: '', script: 'mvn clean'
  }
    
  stage('Maven-Package') {
  
   sh label: '', script: 'mvn package'
  }
  }
def project_terra="04-Terraform/03-Ansible-Deploy"
dir(project_terra) {

   stage('Prod Deployment on AWS'){
  
   sh label: 'terraform', script: '/bin/terraform  init'
   sh label: 'terraform', script: '/bin/terraform  apply -input=false -auto-approve'
   }
}

}


